<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
		<title></title>
		<link rel="stylesheet" href="css/bootstrap.min.css" />
		<script type="text/javascript" src="js/jquery-1.9.1.min.js"></script>
	</head>
	<style>

	</style>

	<body>

		<input type="file" name="file" class="upload" onchange="Javascript:validate_img(this);">
	</body>
	<script>
		//判断照片大小
		function validate_img(ele) {
			// 返回 KB，保留小数点后两位
			//alert((ele.files[0].size/(1024*1024)).toFixed(2));
			var file = ele.value;

			if(!/.(jpg|jpeg|png|GIF|JPG|bmp)$/.test(file)) {

				alert("图片类型必须是.gif,jpeg,jpg,png,bmp中的一种");
				return false;
			} else {
				//alert((ele.files[0].size).toFixed(2));
				//返回Byte(B),保留小数点后两位
				if(((ele.files[0].size).toFixed(2)) >= (4 * 1024 * 1024)) {
					alert("请上传小于4M的图片");
					return false;
				}
			}
			alert("图片通过");
		}
	</script>

</html>