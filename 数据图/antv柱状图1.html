<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,height=device-height">
    <title>分组柱状图</title>
    <style>::-webkit-scrollbar{display:none;}html,body{overflow:hidden;height:100%;margin:0;}</style>
</head>
<body>
<div id="mountNode"></div>
<script>/*Fixing iframe window.innerHeight 0 issue in Safari*/document.body.clientHeight;</script>
<script type="text/javascript" src="../ajax/js/jquery-1.9.1.min.js" ></script>
<script src="http://mockjs.com/dist/mock.js"></script>
<script src="https://gw.alipayobjects.com/os/antv/pkg/_antv.g2-3.5.1/dist/g2.min.js"></script>
<script src="https://gw.alipayobjects.com/os/antv/pkg/_antv.data-set-0.10.1/dist/data-set.min.js"></script>
<script>
	Mock.mock("http://rich11.cn","get",{
	    "arr1": [
		    {"name":"London","月份":"1月份","月均降雨量":"4.0"},
		    {"name":"London","月份":"2月份","月均降雨量":"9.0"},
		    {"name":"London","月份":"3月份","月均降雨量":"3.0"},
		    {"name":"London","月份":"4月份","月均降雨量":"8.0"},
		    {"name":"London","月份":"5月份","月均降雨量":"2.0"},
		    {"name":"London","月份":"6月份","月均降雨量":"7.0"},
		    
		    {"name":"London1","月份":"1月份","月均降雨量":"9.0"},
		    {"name":"London1","月份":"2月份","月均降雨量":"2.0"},
		    {"name":"London1","月份":"3月份","月均降雨量":"4.0"},
		    {"name":"London1","月份":"4月份","月均降雨量":"6.0"},
		    {"name":"London1","月份":"5月份","月均降雨量":"8.0"},
		    {"name":"London1","月份":"6月份","月均降雨量":"5.0"}
		  ]
	})
	

/*var data1 = [
    { "name": "London", "月份": "1月", "月均降雨量": 18.9 },
	{ "name": "London", "月份": "2月", "月均降雨量": 28.8 },
	{ "name": "London", "月份": "3月", "月均降雨量": 39.3 },
	{ "name": "London", "月份": "4月", "月均降雨量": 81.4 },
	{ "name": "London", "月份": "5月", "月均降雨量": 47.5 },
	{ "name": "London", "月份": "6月", "月均降雨量": 20.3 }
];*/
    var chart = new G2.Chart({
	    container: 'mountNode',
	    forceFit: true,
	    height: '500'
    });
  
	$.ajax({
		type : "get",
		async : true, //异步执行
		url : "http://rich11.cn",
		dataType : "json", //返回数据形式为json
		success : function(obj){
			var data1 = obj.arr1
			chart.source(data1);
			chart.scale('sales', {
			    tickInterval: 20
			});
			chart.interval().position('月份*月均降雨量').color('name').adjust([{
			type: 'dodge',
			    marginRatio: 1 / 32
			}]);
		 
			chart.render();	
		}
	})
	

	
    
  	
</script>
</body>
</html>
